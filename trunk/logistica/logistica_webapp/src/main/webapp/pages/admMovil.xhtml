<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd ">
<html xmlns:u="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://com.ss.logistica/jsf"
	xmlns:p="http://primefaces.org/ui" xmlns="http://www.w3.org/1999/xhtml">


<body>
	<u:composition template="/pages/layout/pageLayout.xhtml">
		<u:define name="body">
			<h:form id="filtroForm">
				<p:panel id="panelFiltro" rendered="#{!movilController.addEdit}">
					<h:panelGrid columns="5">
						<h:outputText value="Patente: " />
						<p:inputText value="#{movilController.movilQuery.patente}">
						</p:inputText>

						<h:outputText value="Número móvil" />
						<p:spinner id="numeroS"
							value="#{movilController.movilQuery.numeroMovil}" min="0"
							stepFactor="1" size="30">
						</p:spinner>

						<p:commandButton value="Consultar"
							actionListener="#{movilController.query}" update="form">
						</p:commandButton>
					</h:panelGrid>
				</p:panel>
			</h:form>

			<h:form id="form">
				<p:growl id="messages" life="5000" />
				<p:dataTable id="dataTable" var="movil"
					value="#{movilController.lazyDM}" paginator="true" rows="10"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,15,20"
					rendered="#{!movilController.addEdit}"
					emptyMessage="No se encontraron registros" dynamic="true">

					<f:facet name="header">
						<h:outputText value="#{msgs.admMovil_title}" />
					</f:facet>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Nro movil" />
						</f:facet>
						<h:outputText value="#{movil.numeroMovil}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Patente" />
						</f:facet>
						<h:outputText value="#{movil.patente}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Descripción" />
						</f:facet>
						<h:outputText value="#{movil.descripcion}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Asignado a" />
						</f:facet>
						<h:outputText value="#{movil.asignacionMovil}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Estado" />
						</f:facet>
						<h:outputText value="#{movil.estado}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Fecha ingreso al sistema" />
						</f:facet>
						<h:outputText value="#{movil.fechaIngreso}">
							<f:convertDateTime pattern="#{msgs.common_inputDateFormat}"
								timeZone="#{msgs.common_timeZone}" />
						</h:outputText>
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Fecha salida del sistema" />
						</f:facet>
						<h:outputText value="#{movil.fechaEgreso}">
							<f:convertDateTime pattern="#{msgs.common_inputDateFormat}"
								timeZone="#{msgs.common_timeZone}" />
						</h:outputText>
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Controlado" />
						</f:facet>
						<p:selectBooleanCheckbox disabled="true"
							value="#{movil.controlado}" />
					</p:column>


					<p:column>
						<f:facet name="header">
							<h:outputText value="Comodato" />
						</f:facet>
						<p:selectBooleanCheckbox disabled="true" value="#{movil.comodato}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Opciones" />
						</f:facet>
						<h:panelGrid columns="4">

							<p:commandLink actionListener="#{movilController.caratulaToPDF}"
								ajax="false">
								<h:graphicImage url="/resource/images/pdf.gif"
									title="Caratula a PDF" style="border:0px" />
							</p:commandLink>
							<p:commandLink
								actionListener="#{movilController.historialChoferesToPDF}"
								ajax="false">
								<h:graphicImage url="/resource/images/pdf.gif"
									title="Historial de choferes a PDF" style="border:0px" />
							</p:commandLink>
							<p:commandLink actionListener="#{movilController.edit}"
								update="form,filtroForm" oncomplete="tabView.select(0)">
								<h:graphicImage url="/resource/images/edit.gif"
									title="Modificar" style="border:0px" />
							</p:commandLink>
							<h:commandLink actionListener="#{movilController.delete}"
								onclick="return confirm('¿Está seguro de eliminar el registro?');">
								<h:graphicImage url="/resource/images/delete.gif"
									title="Eliminar" style="border:0px" />
							</h:commandLink>
						</h:panelGrid>
					</p:column>

					<f:facet name="footer">
						<h:panelGrid columns="4">
							<p:commandButton value="Agregar"
								actionListener="#{movilController.add}" update="form,filtroForm"
								oncomplete="tabView.select(0)" />

							<p:commandButton value="Resumen general a PDF"
								actionListener="#{movilController.resumenGeneralToPDF}"
								ajax="false" />

							<p:commandButton value="Resumen detallado a PDF"
								actionListener="#{movilController.resumenDetalladoToPDF}"
								ajax="false" />

							<p:commandButton value="Listado común a PDF"
								actionListener="#{movilController.listadoComunToPDF}"
								ajax="false" />
						</h:panelGrid>

					</f:facet>
				</p:dataTable>


				<h:panelGrid id="panel" columns="1"
					rendered="#{movilController.addEdit}">
					<p:tabView id="tabView" widgetVar="tabView">
						<p:tab title="Datos Principales">
							<p:focus for="numeroM" />
							<h:panelGrid columns="3">
								<h:outputText value="Nro Móvil" />
								<p:spinner id="numeroM"
									value="#{movilController.movilView.numeroMovil}" min="1"
									stepFactor="1" size="30">
									<p:ajax
										update="numeroMovilChoferesID,numeroMovilCaracteristicasID,numeroMovilEstadoID,numeroMovilEquipamientoID,numeroMovilSeguroID,numeroMovilNotasID,numeroMovilBlanqueoID,numeroMovilControlID"
										process="@this" />
									<f:validateBean for="numeroM" />
								</p:spinner>
								<h:message id="mns" for="numeroM" />

								<h:outputText value="Patente" />
								<p:inputText id="patenteIT"
									value="#{movilController.movilView.patente}">
									<f:validateBean for="patenteIT" />
								</p:inputText>
								<h:message id="pIT" for="patenteIT" />

								<h:outputText value="Descripción" />
								<p:inputTextarea id="descripcionIT"
									value="#{movilController.movilView.descripcion}">
									<f:validateBean for="descripcionIT" />
								</p:inputTextarea>
								<h:message id="dIT" for="descripcionIT" />

								<h:outputText value="Asignado a" />
								<p:inputText id="asignadoIT"
									value="#{movilController.movilView.asignacionMovil}">
									<f:validateBean for="asignadoIT" />
								</p:inputText>
								<h:message id="MasignadoIT" for="asignadoIT" />

								<h:outputText value="Estado" />
								<p:selectOneMenu value="#{movilController.movilView.estado}"
									converter="com.converter.EstadoConverter">
									<f:selectItems value="#{movilController.estadoEnumList}" />
								</p:selectOneMenu>
								<h:outputText value="" />

								<h:outputText value="Controlado" />
								<p:selectBooleanCheckbox
									value="#{movilController.movilView.controlado}" />
								<h:outputText value="" />

								<h:outputText value="Comodato" />
								<p:selectBooleanCheckbox
									value="#{movilController.movilView.comodato}" />
								<h:outputText value="" />
							</h:panelGrid>
						</p:tab>


						<p:tab title="Choferes">

							<h:panelGrid columns="2">
								<h:outputText value="Número de móvil" />
								<h:outputText id="numeroMovilChoferesID"
									value="#{movilController.movilView.numeroMovil}" />
							</h:panelGrid>

							<p:focus for="choferAC" />
							<h:panelGrid columns="8">
								<h:outputText value="Chofer 1" />
								<p:autoComplete id="choferAC"
									disabled="#{movilController.chofer1Selected}"
									value="#{movilController.movilView.chofer1}"
									completeMethod="#{movilController.completeChofer}" var="chofer"
									itemLabel="#{chofer.nombre}" itemValue="#{chofer}"
									converter="com.converter.ChoferConverter" maxResults="10"
									forceSelection="true">
									<p:ajax event="itemSelect"
										listener="#{movilController.handleChoferSelect}"
										update="choferAC,nombreChofer,deseleccionarChoferLink,fotoChofer1GI" />
								</p:autoComplete>
								<h:panelGroup>
									<h:outputText id="nombreChofer"
										value="#{movilController.movilView.chofer1.nombre}" />
									<h:commandLink id="deseleccionarChoferLink"
										disabled="#{!movilController.chofer1Selected}"
										actionListener="#{movilController.deseleccionarChofer1}"
										update="choferAC,nombreChofer,deseleccionarChoferLink,fotoChofer1GI"
										immediate="true">
										<h:graphicImage url="/resource/images/delete.gif"
											title="Deseleccionar" style="border:0px" />
									</h:commandLink>
								</h:panelGroup>
								<h:message id="mchac" for="choferAC" />

								<h:graphicImage id="fotoChofer1GI"
									value="/images/#{movilController.movilView.chofer1.nombreArchivo}"
									width="70" height="100" />

								<h:outputText value="Parentesco" />
								<p:selectOneMenu
									value="#{movilController.movilView.parentezcoChofer1}"
									converter="com.converter.ParentezcoConverter">
									<f:selectItems value="#{movilController.parentezcoEnumList}" />
								</p:selectOneMenu>
								<h:outputText value="" />


								<h:outputText value="Chofer 2" />
								<p:autoComplete id="chofer2AC"
									disabled="#{movilController.chofer2Selected}"
									value="#{movilController.movilView.chofer2}"
									completeMethod="#{movilController.completeChofer}" var="chofer"
									itemLabel="#{chofer.nombre}" itemValue="#{chofer}"
									converter="com.converter.ChoferConverter" maxResults="10"
									forceSelection="true">
									<p:ajax event="itemSelect"
										listener="#{movilController.handleChoferSelect}"
										update="chofer2AC,nombreChofer2,deseleccionarChofer2Link,fotoChofer2GI" />
								</p:autoComplete>
								<h:panelGroup>
									<h:outputText id="nombreChofer2"
										value="#{movilController.movilView.chofer2.nombre}" />
									<h:commandLink id="deseleccionarChofer2Link"
										disabled="#{!movilController.chofer2Selected}"
										actionListener="#{movilController.deseleccionarChofer2}"
										update="chofer2AC,nombreChofer2,deseleccionarChofer2Link,fotoChofer2GI"
										immediate="true">
										<h:graphicImage url="/resource/images/delete.gif"
											title="Deseleccionar" style="border:0px" />
									</h:commandLink>
								</h:panelGroup>
								<h:message id="mchac2" for="chofer2AC" />

								<h:graphicImage id="fotoChofer2GI"
									value="/images/#{movilController.movilView.chofer2.nombreArchivo}"
									width="70" height="100" />

								<h:outputText value="Parentesco" />
								<p:selectOneMenu
									value="#{movilController.movilView.parentezcoChofer2}"
									converter="com.converter.ParentezcoConverter">
									<f:selectItems value="#{movilController.parentezcoEnumList}" />
								</p:selectOneMenu>
								<h:outputText value="" />


								<h:outputText value="Chofer 3" />
								<p:autoComplete id="chofer3AC"
									disabled="#{movilController.chofer3Selected}"
									value="#{movilController.movilView.chofer3}"
									completeMethod="#{movilController.completeChofer}" var="chofer"
									itemLabel="#{chofer.nombre}" itemValue="#{chofer}"
									converter="com.converter.ChoferConverter" maxResults="10"
									forceSelection="true">
									<p:ajax event="itemSelect"
										listener="#{movilController.handleChoferSelect}"
										update="chofer3AC,nombreChofer3,deseleccionarChofer3Link,fotoChofer3GI" />
								</p:autoComplete>
								<h:panelGroup>
									<h:outputText id="nombreChofer3"
										value="#{movilController.movilView.chofer3.nombre}" />
									<h:commandLink id="deseleccionarChofer3Link"
										disabled="#{!movilController.chofer3Selected}"
										actionListener="#{movilController.deseleccionarChofer3}"
										update="chofer3AC,nombreChofer3,deseleccionarChofer3Link,fotoChofer3GI"
										immediate="true">
										<h:graphicImage url="/resource/images/delete.gif"
											title="Deseleccionar" style="border:0px" />
									</h:commandLink>
								</h:panelGroup>
								<h:message id="mchac3" for="chofer3AC" />

								<h:graphicImage id="fotoChofer3GI"
									value="/images/#{movilController.movilView.chofer3.nombreArchivo}"
									width="70" height="100" />

								<h:outputText value="Parentesco" />
								<p:selectOneMenu
									value="#{movilController.movilView.parentezcoChofer3}"
									converter="com.converter.ParentezcoConverter">
									<f:selectItems value="#{movilController.parentezcoEnumList}" />
								</p:selectOneMenu>
								<h:outputText value="" />

							</h:panelGrid>
						</p:tab>

						<p:tab title="Propietario"
							rendered="#{movilController.movilView.propietario != null}">

							<h:panelGrid columns="2">
								<h:outputText value="Número de móvil" />
								<h:outputText id="numeroMovilPropietarioID"
									value="#{movilController.movilView.numeroMovil}" />
							</h:panelGrid>

							<h:panelGrid columns="6">
								<h:outputText value="Nombre" />
								<p:inputText id="propietarioNombreIT"
									value="#{movilController.movilView.propietario.nombre}"
									disabled="true">
								</p:inputText>

								<h:outputText value="DNI" />
								<p:inputText id="propietarioDNIIT"
									value="#{movilController.movilView.propietario.dni}"
									disabled="true">
								</p:inputText>

								<h:outputText value="Foto" />
								<h:graphicImage id="fotoPropietarioGI"
									value="/images/#{movilController.movilView.propietario.nombreArchivo}"
									width="70" height="100" />

								<h:outputText value="Teléfono" />
								<p:inputText id="telefonoPropietarioIT" maxlength="30"
									disabled="true"
									value="#{movilController.movilView.propietario.telefono}">
								</p:inputText>

								<h:outputText value="Teléfono 2" />
								<p:inputText id="telefono2PropietarioIT" maxlength="30"
									disabled="true"
									value="#{movilController.movilView.propietario.telefono2}">
								</p:inputText>

								<h:outputText value="Teléfono 3" />
								<p:inputText id="telefono3PropietarioIT" maxlength="30"
									disabled="true"
									value="#{movilController.movilView.propietario.telefono3}">
								</p:inputText>

							</h:panelGrid>
						</p:tab>

						<p:tab title="Caracteristicas">

							<h:panelGrid columns="2">
								<h:outputText value="Número de móvil" />
								<h:outputText id="numeroMovilCaracteristicasID"
									value="#{movilController.movilView.numeroMovil}" />
							</h:panelGrid>

							<p:focus for="numeroM" />
							<h:panelGrid columns="6">

								<h:outputText value="Marca" />
								<p:inputText id="marcaIT"
									value="#{movilController.movilView.marca}">
									<f:validateBean for="marcaIT" />
								</p:inputText>
								<h:message id="mmarcaIT" for="marcaIT" />

								<h:outputText value="Modelo" />
								<p:inputText id="modeloIT"
									value="#{movilController.movilView.modelo}">
									<f:validateBean for="modeloIT" />
								</p:inputText>
								<h:message id="mmodeloIT" for="modeloIT" />

								<h:outputText value="Año" />
								<p:inputMask id="anioIM"
									value="#{movilController.movilView.anio}" mask="9999">
									<f:validateBean for="anioIM" />
								</p:inputMask>
								<h:message id="manioIT" for="anioIT" />

								<h:outputText value="Tipo" />
								<p:inputText id="tipoIT"
									value="#{movilController.movilView.tipo}">
									<f:validateBean for="tipoIT" />
								</p:inputText>
								<h:message id="mtipoIT" for="tipoIT" />

								<h:outputText value="Motor" />
								<p:inputText id="motorIT"
									value="#{movilController.movilView.motor}">
									<f:validateBean for="motorIT" />
								</p:inputText>
								<h:message id="mmotorIT" for="motorIT" />

								<h:outputText value="Número motor" />
								<p:inputText id="numeroMotorIT"
									value="#{movilController.movilView.numeroMotor}">
									<f:validateBean for="numeroMotorIT" />
								</p:inputText>
								<h:message id="mnumeroMotorIT" for="numeroMotorIT" />

								<h:outputText value="Potencia" />
								<p:inputText id="potenciaIT"
									value="#{movilController.movilView.potencia}">
									<f:validateBean for="potenciaIT" />
								</p:inputText>
								<h:message id="mpotenciaIT" for="potenciaIT" />

								<h:outputText value="Chasis" />
								<p:inputText id="chasisIT"
									value="#{movilController.movilView.chasis}">
									<f:validateBean for="chasisIT" />
								</p:inputText>
								<h:message id="mchasisIT" for="chasisIT" />

								<h:outputText value="Número chasis" />
								<p:inputText id="numeroChasisIT"
									value="#{movilController.movilView.numeroChasis}">
									<f:validateBean for="numeroChasisIT" />
								</p:inputText>
								<h:message id="mnumeroChasisIT" for="numeroChasisIT" />

								<h:outputText value="Prenda" />
								<p:selectBooleanCheckbox
									value="#{movilController.movilView.prenda}" />
								<h:outputText value="" />

								<h:outputText value="Fecha prenda" />
								<!-- <p:calendar id="fechaPrendaC"
									value="#{movilController.movilView.fechaPrenda}" mode="popup"
									showOn="button" locale="es"
									pattern="#{msgs.common_inputDateFormat}" immediate="true"
									readOnlyInputText="true">
								</p:calendar> -->
								<p:calendar id="fechaPrendaC"
									value="#{movilController.movilView.fechaPrenda}" mode="popup"
									showOn="button" locale="es"
									pattern="#{msgs.common_inputDateFormat}" immediate="true"
									readOnlyInputText="false" navigator="true"
									yearRange="c-100:c+50"
									converterMessage="El formato de la fecha es incorrecto">
								</p:calendar>
								<h:outputText value="" />

								<h:outputText value="Acreedor" />
								<p:inputText id="acreedorIT"
									value="#{movilController.movilView.acreedor}">
									<f:validateBean for="acreedorIT" />
								</p:inputText>
								<h:message id="macreedorIT" for="acreedorIT" />

								<h:outputText value="Informe dominio" />
								<p:selectBooleanCheckbox
									value="#{movilController.movilView.informeDominio}" />
								<h:outputText value="" />

							</h:panelGrid>
						</p:tab>

						<p:tab title="Estado">

							<h:panelGrid columns="2">
								<h:outputText value="Número de móvil" />
								<h:outputText id="numeroMovilEstadoID"
									value="#{movilController.movilView.numeroMovil}" />
							</h:panelGrid>

							<p:panel>
								<h:panelGrid columns="6">

									<h:outputText value="Fecha verificación técnica" />
									<!-- <p:calendar id="fechaVerificacionTecnicaC"
										value="#{movilController.movilView.fechaVerificacionTecnica}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
									</p:calendar> -->
									<p:calendar id="fechaVerificacionTecnicaC"
										value="#{movilController.movilView.fechaVerificacionTecnica}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="false" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
									</p:calendar>
									<h:outputText value="" />

									<h:outputText value="Número verificación técnica" />
									<p:inputText id="numeroVerificacionTecnicaIT"
										value="#{movilController.movilView.numeroVerificacionTecnica}">
										<f:validateBean for="numeroVerificacionTecnicaIT" />
									</p:inputText>
									<h:message id="mnumeroVerificacionTecnicaIT"
										for="numeroVerificacionTecnicaIT" />

									<h:outputText value="Fecha SENASA" />
									<!-- <p:calendar id="fechaSenasaC"
										value="#{movilController.movilView.fechaSenasa}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
									</p:calendar> -->
									<p:calendar id="fechaSenasaC"
										value="#{movilController.movilView.fechaSenasa}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="false" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
									</p:calendar>
									<h:outputText value="" />

									<h:outputText value="Número SENASA" />
									<p:inputText id="numeroSenasaIT"
										value="#{movilController.movilView.numeroSenasa}">
										<f:validateBean for="numeroSenasaIT" />
									</p:inputText>
									<h:message id="msenasaIT" for="numeroSenasaIT" />

									<h:outputText value="Fecha otra habilitación" />
									<!-- <p:calendar id="fechaOtraHabilitacion1C"
										value="#{movilController.movilView.fechaOtraHabilitacion1}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
									</p:calendar> -->
									<p:calendar id="fechaOtraHabilitacion1C"
										value="#{movilController.movilView.fechaOtraHabilitacion1}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="false" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
									</p:calendar>
									<h:outputText value="" />

									<h:outputText value="Número otra habilitación" />
									<p:inputText id="numeroOtraHabilitacion1IT"
										value="#{movilController.movilView.numeroOtraHabilitacion1}">
										<f:validateBean for="numeroOtraHabilitacion1IT" />
									</p:inputText>
									<h:message id="mnumeroOtraHabilitacion1IT"
										for="numeroOtraHabilitacion1IT" />

									<h:outputText value="Fecha otra habilitación" />
									<!-- <p:calendar id="fechaOtraHabilitacion2C"
										value="#{movilController.movilView.fechaOtraHabilitacion2}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
									</p:calendar> -->
									<p:calendar id="fechaOtraHabilitacion2C"
										value="#{movilController.movilView.fechaOtraHabilitacion2}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="false" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
									</p:calendar>
									<h:outputText value="" />

									<h:outputText value="Número otra habilitación" />
									<p:inputText id="numeroOtraHabilitacion2IT"
										value="#{movilController.movilView.numeroOtraHabilitacion2}">
										<f:validateBean for="numeroOtraHabilitacion2IT" />
									</p:inputText>
									<h:message id="mnumeroOtraHabilitacion2IT"
										for="numeroOtraHabilitacion2IT" />

									<h:outputText value="Fecha otra habilitación" />
									<!-- <p:calendar id="fechaOtraHabilitacion3C"
										value="#{movilController.movilView.fechaOtraHabilitacion3}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
									</p:calendar> -->
									<p:calendar id="fechaOtraHabilitacion3C"
										value="#{movilController.movilView.fechaOtraHabilitacion3}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="false" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
									</p:calendar>
									<h:outputText value="" />

									<h:outputText value="Número otra habilitación" />
									<p:inputText id="numeroOtraHabilitacion3IT"
										value="#{movilController.movilView.numeroOtraHabilitacion3}">
										<f:validateBean for="numeroOtraHabilitacion3IT" />
									</p:inputText>
									<h:message id="mnumeroOtraHabilitacion3IT"
										for="numeroOtraHabilitacion3IT" />

									<h:outputText value="Fecha otra habilitación" />
									<!-- <p:calendar id="fechaOtraHabilitacion4C"
										value="#{movilController.movilView.fechaOtraHabilitacion4}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
									</p:calendar> -->

									<p:calendar id="fechaOtraHabilitacion4C"
										value="#{movilController.movilView.fechaOtraHabilitacion4}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="false" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
									</p:calendar>
									<h:outputText value="" />

									<h:outputText value="Número otra habilitación" />
									<p:inputText id="numeroOtraHabilitacion4IT"
										value="#{movilController.movilView.numeroOtraHabilitacion4}">
										<f:validateBean for="numeroOtraHabilitacion4IT" />
									</p:inputText>
									<h:message id="mnumeroOtraHabilitacion4IT"
										for="numeroOtraHabilitacion4IT" />

									<h:outputText value="Libre deuda infracciones" />
									<p:inputMask id="libreDeudaInfraccionesIM"
										value="#{movilController.movilView.libreDeudaInfracciones}"
										mask="99/9999">
										<f:validateBean for="libreDeudaInfraccionesIM" />
									</p:inputMask>
									<h:message id="mlibreDeudaInfraccionesIM"
										for="libreDeudaInfraccionesIM" />

									<h:outputText value="Libre deuda patentes" />
									<p:inputMask id="libreDeudaPatentesIM"
										value="#{movilController.movilView.libreDeudaPatentes}"
										mask="99/9999">
										<f:validateBean for="libreDeudaPatentesIM" />
									</p:inputMask>
									<h:message id="mlibreDeudaPatentesIM"
										for="libreDeudaPatentesIM" />

									<h:outputText value="Capital" />
									<p:selectBooleanCheckbox
										value="#{movilController.movilView.capital}" />
									<h:outputText value="" />

									<h:outputText value="Fecha vencimiento capital" />
									<!-- <p:calendar id="fechaVencimientoCapitalC"
										value="#{movilController.movilView.fechaVencimientoCapital}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
									</p:calendar> -->
									<p:calendar id="fechaVencimientoCapitalC"
										value="#{movilController.movilView.fechaVencimientoCapital}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="false" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
									</p:calendar>
									<h:outputText value="" />

									<h:outputText value="Número habilitación capital" />
									<p:inputText id="numeroHabilitacionCapitalIT"
										value="#{movilController.movilView.numeroHabilitacionCapital}">
										<f:validateBean for="numeroHabilitacionCapitalIT" />
									</p:inputText>
									<h:message id="mnumeroHabilitacionCapitalIT"
										for="numeroHabilitacionCapitalIT" />

									<h:outputText value="Acc." />
									<p:inputText id="accidenteIT"
										value="#{movilController.movilView.accidente}">
										<f:validateBean for="accidenteIT" />
									</p:inputText>
									<h:message id="maccidenteIT" for="accidenteIT" />

									<h:outputText value="Impuesto docente" />
									<p:selectBooleanCheckbox
										value="#{movilController.movilView.impuestoDocente}" />
									<h:outputText value="" />

									<h:outputText value="Contrato firmado" />
									<p:selectBooleanCheckbox
										value="#{movilController.movilView.contratoFirmado}" />
									<h:outputText value="" />

								</h:panelGrid>
							</p:panel>

							<p:panel>
								<h:panelGrid columns="4">
									<h:outputText value="Número patcom" />
									<p:inputMask id="patcomIM"
										value="#{movilController.patcom.numeroAutonomo}"
										mask="9999/99">
										<f:ajax execute="@this" />
									</p:inputMask>

									<h:message for="patcomIM" />
									<h:outputText value="" />

									<h:outputText value="Fecha" />
									<!-- <p:calendar id="fechaPatcomC"
										value="#{movilController.patcom.fechaAutonomo}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
										<p:ajax event="dateSelect"
											listener="#{movilController.handleDateSelect}" />
									</p:calendar> -->

									<p:calendar id="fechaPatcomC"
										value="#{movilController.patcom.fechaAutonomo}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
										<p:ajax event="dateSelect"
											listener="#{movilController.handleDateSelect}" />
									</p:calendar>
									<h:outputText value="" />
									<h:outputText value="" />

									<p:commandButton value="Agregar Patcom"
										actionListener="#{movilController.addPatcom}"
										update="detalleListDT" immediate="true" />
								</h:panelGrid>


								<p:dataTable id="detalleListDT" var="detalle"
									value="#{movilController.patcomDM}" emptyMessage="">

									<f:facet name="header">
										<h:outputText value="Detalles" />
									</f:facet>

									<p:column align="center">
										<f:facet name="header">
											<h:outputText value="Número patcom" />
										</f:facet>
										<h:outputText value="#{detalle.numeroAutonomo}" />
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="Fecha" />
										</f:facet>
										<h:outputText value="#{detalle.fechaAutonomo}">
											<f:convertDateTime pattern="#{msgs.common_inputDateFormat}"
												timeZone="#{msgs.common_timeZone}" />
										</h:outputText>
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="Opciones" />
										</f:facet>
										<h:panelGrid columns="3">
											<h:commandLink
												actionListener="#{movilController.deletePatcom}"
												immediate="true">
												<h:graphicImage url="/resource/images/delete.gif"
													title="Eliminar" style="border:0px" />
											</h:commandLink>
										</h:panelGrid>
									</p:column>
								</p:dataTable>
							</p:panel>
						</p:tab>

						<p:tab title="Equipamento">

							<h:panelGrid columns="2">
								<h:outputText value="Número de móvil" />
								<h:outputText id="numeroMovilEquipamientoID"
									value="#{movilController.movilView.numeroMovil}" />
							</h:panelGrid>

							<p:focus for="numeroM" />
							<h:panelGrid columns="3">

								<h:outputText value="Tipo combustible" />
								<p:selectOneMenu
									value="#{movilController.movilView.tipoCombustible}"
									converter="com.converter.TipoCombustibleConverter">
									<f:selectItems
										value="#{movilController.tipoCombustibleEnumList}" />
								</p:selectOneMenu>
								<h:outputText value="" />

								<h:outputText value="Comunicación" />
								<p:inputText id="comunicacionIT"
									value="#{movilController.movilView.comunicacion}">
									<f:validateBean for="comunicacionIT" />
								</p:inputText>
								<h:message id="pcomunicacionIT" for="comunicacionIT" />

								<h:outputText value="Observaciones comunicación" />
								<p:inputTextarea id="observacionesComunicacionIT"
									maxLength="300"
									value="#{movilController.movilView.observacionesComunicacion}">
									<f:validateBean for="observacionesComunicacionIT" />
								</p:inputTextarea>
								<h:message id="dobservacionesComunicacionIT"
									for="observacionesComunicacionIT" />

								<h:outputText value="Altura" />
								<p:spinner id="alturaS"
									value="#{movilController.movilView.altura}" min="0"
									stepFactor="0.25" size="30">
									<p:ajax update="metrosCubicos" process="@this" />
									<f:validateBean for="alturaS" />
								</p:spinner>
								<h:message id="malturaS" for="alturaS" />

								<h:outputText value="Ancho" />
								<p:spinner id="anchoS"
									value="#{movilController.movilView.ancho}" min="0"
									stepFactor="0.25" size="30">
									<p:ajax update="metrosCubicos" process="@this" />
									<f:validateBean for="anchoS" />
								</p:spinner>
								<h:message id="manchoS" for="anchoS" />

								<h:outputText value="Largo" />
								<p:spinner id="largoS"
									value="#{movilController.movilView.largo}" min="0"
									stepFactor="0.25" size="30">
									<p:ajax update="metrosCubicos" process="@this" />
									<f:validateBean for="largoS" />
								</p:spinner>
								<h:message id="mlargoS" for="largoS" />

								<h:outputText value="Metros cúbicos" />
								<h:outputText id="metrosCubicos"
									value="#{movilController.movilView.metrosCubicos}" />
								<h:outputText value="" />

							</h:panelGrid>
						</p:tab>

						<p:tab title="Seguro">
							<p:focus for="numeroM" />
							<h:panelGrid columns="2">
								<h:outputText value="Número de móvil" />
								<h:outputText id="numeroMovilSeguroID"
									value="#{movilController.movilView.numeroMovil}" />
							</h:panelGrid>


							<p:panel>
								<h:panelGrid columns="6">

									<h:outputText value="Asegurado en" />
									<p:inputText id="aseguradoEnIT"
										value="#{movilController.movilView.aseguradoEn}">
										<f:validateBean for="aseguradoEnIT" />
									</p:inputText>
									<h:message id="maseguradoEnIT" for="aseguradoEnIT" />

									<h:outputText value="Comprobante" />
									<p:inputText id="comprobanteIT"
										value="#{movilController.movilView.comprobante}">
										<f:validateBean for="comprobanteIT" />
									</p:inputText>
									<h:message id="mcomprobanteIT" for="comprobanteIT" />

									<h:outputText value="Tipo" />
									<p:selectOneMenu value="#{movilController.movilView.tipoUso}"
										converter="com.converter.TipoUsoConverter">
										<f:selectItems value="#{movilController.tipoUsoEnumList}" />
									</p:selectOneMenu>
									<h:outputText value="" />

									<h:outputText value="Fecha desde" />
									<!-- <p:calendar id="fechaSeguroDesdeC"
										value="#{movilController.movilView.fechaSeguroDesde}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
									</p:calendar> -->
									<p:calendar id="fechaSeguroDesdeC"
										value="#{movilController.movilView.fechaSeguroDesde}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="false" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
									</p:calendar>
									<h:outputText value="" />

									<h:outputText value="Fecha hasta" />
									<!-- <p:calendar id="fechaSeguroHastaC"
										value="#{movilController.movilView.fechaSeguroHasta}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
									</p:calendar> -->
									<p:calendar id="fechaSeguroHastaC"
										value="#{movilController.movilView.fechaSeguroHasta}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="false" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
									</p:calendar>
									<h:outputText value="" />

									<h:outputText value="Recibo vencimiento" />
									<!-- <p:calendar id="fechaReciboVencimientoC"
										value="#{movilController.movilView.fechaReciboVencimiento}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
									</p:calendar> -->
									<p:calendar id="fechaReciboVencimientoC"
										value="#{movilController.movilView.fechaReciboVencimiento}"
										mode="popup" showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="false" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
									</p:calendar>
									<h:outputText value="" />

									<h:outputText value="Comprobante 2" />
									<p:inputText id="comprobante2IT"
										value="#{movilController.movilView.comprobante2}">
										<f:validateBean for="comprobante2IT" />
									</p:inputText>
									<h:message id="mcomprobante2IT" for="comprobante2IT" />

									<h:outputText value="Número cuenta" />
									<p:inputText id="numeroCuentaIT"
										value="#{movilController.movilView.numeroCuenta}">
										<f:validateBean for="numeroCuentaIT" />
									</p:inputText>
									<h:message id="mnumeroCuentaIT" for="numeroCuentaIT" />

									<h:outputText value="Número poliza" />
									<p:inputText id="numeroPolizaIT"
										value="#{movilController.movilView.numeroPoliza}">
										<f:validateBean for="numeroPolizaIT" />
									</p:inputText>
									<h:message id="mnumeroPolizaIT" for="numeroPolizaIT" />

									<h:outputText value="Número cuota" />
									<p:inputMask id="numeroCuotaIM"
										value="#{movilController.movilView.numeroCuota}" mask="99/99">
										<f:validateBean for="numeroCuotaIM" />
									</p:inputMask>
									<h:message id="mnumeroCuotaIM" for="numeroCuotaIM" />

									<h:outputText value="Número socio" />
									<p:spinner id="numeroSocioS"
										value="#{movilController.movilView.numeroSocio}" min="0"
										stepFactor="1" size="30">
										<f:validateBean for="numeroSocioS" />
									</p:spinner>
									<h:message id="mnumeroSocioS" for="numeroSocioS" />

									<h:outputText value="Número LOJACK" />
									<p:inputText id="numeroLoJackIT"
										value="#{movilController.movilView.numeroLoJack}">
										<f:validateBean for="numeroLoJackIT" />
									</p:inputText>
									<h:message id="mnumeroLoJackIT" for="numeroLoJackIT" />

									<h:outputText value="Observaciones" />
									<p:inputTextarea id="observacionesSeguroIT"
										value="#{movilController.movilView.observacionesSeguro}">
										<f:validateBean for="observacionesSeguroIT" />
									</p:inputTextarea>
									<h:message id="mobservacionesSeguroIT"
										for="observacionesSeguroIT" />

								</h:panelGrid>
							</p:panel>

							<p:panel>
								<h:panelGrid columns="6">

									<h:outputText value="Valor del móvil" />
									<p:spinner id="valorMovilS"
										value="#{movilController.movilView.valorMovil}" min="0"
										stepFactor="0.50" size="30">
										<f:validateBean for="valorMovilS" />
									</p:spinner>
									<h:message id="mvalorMovilS" for="valorMovilS" />

									<h:outputText value="Costo LOJACK" />
									<p:spinner id="valorLOJACKS"
										value="#{movilController.movilView.valorLoJack}" min="0"
										stepFactor="0.50" size="30">
										<f:validateBean for="valorLOJACKS" />
									</p:spinner>
									<h:message id="mvalorLOJACKS" for="valorLOJACKS" />

									<h:outputText value="Valor accesorios" />
									<p:spinner id="valorAccesoriosS"
										value="#{movilController.movilView.valorAccesorios}" min="0"
										stepFactor="0.50" size="30">
										<f:validateBean for="valorAccesoriosS" />
									</p:spinner>
									<h:message id="mvalorAccesoriosS" for="valorAccesoriosS" />

									<h:outputText value="Tipo accesorios" />
									<p:inputText id="coberturaAdicionalIT"
										value="#{movilController.movilView.coberturaAdicional}">
										<f:validateBean for="coberturaAdicionalIT" />
									</p:inputText>
									<h:message id="McoberturaAdicionalIT"
										for="coberturaAdicionalIT" />

									<h:outputText value="Valor total asegurado" />
									<p:spinner id="valorTotalAseguradoS"
										value="#{movilController.movilView.valorTotalAsegurado}"
										min="0" stepFactor="0.50" size="30">
										<f:validateBean for="valorTotalAseguradoS" />
									</p:spinner>
									<h:message id="mvalorTotalAseguradoS"
										for="valorTotalAseguradoS" />
								</h:panelGrid>
							</p:panel>
						</p:tab>

						<p:tab title="Notas">
							<h:panelGrid columns="2">
								<h:outputText value="Número de móvil" />
								<h:outputText id="numeroMovilNotasID"
									value="#{movilController.movilView.numeroMovil}" />
							</h:panelGrid>

							<p:panel header="Agregar nota">
								<h:panelGrid columns="2">
									<h:outputText value="Nota" />
									<p:inputTextarea id="notaITA" style="width:200px;height:100px;"
										value="#{movilController.nota}" immediate="true"
										maxLength="250">
										<f:ajax execute="@this" />
									</p:inputTextarea>

									<p:commandButton value="Agregar nota"
										actionListener="#{movilController.addNota}"
										update="detalleNotaListDT" immediate="true" />
								</h:panelGrid>
							</p:panel>

							<p:dataTable id="detalleNotaListDT" var="nota"
								value="#{movilController.notasDM}" emptyMessage="">

								<f:facet name="header">
									<h:outputText value="Notas" />
								</f:facet>

								<p:column align="center">
									<f:facet name="header">
										<h:outputText value="Nota" />
									</f:facet>
									<h:outputText value="#{nota}" />
								</p:column>

								<p:column>
									<f:facet name="header">
										<h:outputText value="Opciones" />
									</f:facet>
									<h:panelGrid columns="3">
										<h:commandLink actionListener="#{movilController.deleteNota}"
											immediate="true">
											<h:graphicImage url="/resource/images/delete.gif"
												title="Eliminar" style="border:0px" />
										</h:commandLink>
									</h:panelGrid>
								</p:column>
							</p:dataTable>
						</p:tab>

						<p:tab title="Blanqueo">

							<h:panelGrid columns="2">
								<h:outputText value="Número de móvil" />
								<h:outputText id="numeroMovilBlanqueoID"
									value="#{movilController.movilView.numeroMovil}" />
							</h:panelGrid>

							<p:panel>
								<h:panelGrid columns="6">
									<h:outputText value="Categoria" />
									<p:inputText id="categoriaIT"
										value="#{movilController.movilView.categoria}">
										<f:validateBean for="categoriaIT" />
									</p:inputText>
									<h:message id="mcategoriaIT" for="categoriaIT" />

									<h:outputText value="Recibo sueldo" />
									<p:spinner id="reciboSueldoS"
										value="#{movilController.movilView.reciboSueldo}" min="0"
										stepFactor="0.5" size="30">
										<f:validateBean for="reciboSueldoS" />
									</p:spinner>
									<h:message id="mreciboSueldoS" for="reciboSueldoS" />

									<h:outputText value="Observacion Blanqueo" />
									<p:inputText id="observacionBlanqueoIT"
										value="#{movilController.movilView.observacionBlanqueo}">
										<f:validateBean for="observacionBlanqueoIT" />
									</p:inputText>
									<h:message id="mobservacionBlanqueoIT"
										for="observacionBlanqueoIT" />

									<h:outputText value="Nomina empleado" />
									<p:inputText id="nominaEmpleadoIT"
										value="#{movilController.movilView.nominaEmpleado}">
										<f:validateBean for="nominaEmpleadoIT" />
									</p:inputText>
									<h:message id="mnominaEmpleadoIT" for="nominaEmpleadoIT" />

									<h:outputText value="Seguro vida" />
									<p:inputText id="seguroVidaIT"
										value="#{movilController.movilView.seguroVida}">
										<f:validateBean for="seguroVidaIT" />
									</p:inputText>
									<h:message id="mseguroVidaIT" for="seguroVidaIT" />

									<h:outputText value="Alta empleador" />
									<p:selectBooleanCheckbox
										value="#{movilController.movilView.altaEmpleador}" />
									<h:outputText value="" />

									<h:outputText value="Alta temprana" />
									<p:spinner id="altaTempranaS"
										value="#{movilController.movilView.altaTemprana}" min="0"
										stepFactor="1" size="30">
										<f:validateBean for="altaTempranaS" />
									</p:spinner>
									<h:message id="maltaTempranaS" for="altaTempranaS" />

									<h:outputText value="Obra social" />
									<p:inputText id="obraSocialIT"
										value="#{movilController.movilView.obraSocial}">
										<f:validateBean for="obraSocialIT" />
									</p:inputText>
									<h:message id="mobraSocialIT" for="obraSocialIT" />

									<h:outputText value="Sindicato" />
									<p:inputText id="sindicatoIT"
										value="#{movilController.movilView.sindicato}">
										<f:validateBean for="sindicatoIT" />
									</p:inputText>
									<h:message id="msindicatoIT" for="sindicatoIT" />

								</h:panelGrid>
							</p:panel>

							<p:panel header="Form 817">
								<h:panelGrid columns="4">
									<h:outputText value="Número form 817" />
									<p:inputMask id="form817IM"
										value="#{movilController.form817.numero}" mask="9999/99">
										<f:ajax execute="@this" />
									</p:inputMask>

									<h:message for="form817IM" />
									<h:outputText value="" />

									<h:outputText value="Fecha" />
									<!-- <p:calendar id="fechaForm817C"
										value="#{movilController.form817.fecha}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
										<p:ajax event="dateSelect"
											listener="#{movilController.handleDateSelect}" />
									</p:calendar> -->
									<p:calendar id="fechaForm817C"
										value="#{movilController.form817.fecha}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
										<p:ajax event="dateSelect"
											listener="#{movilController.handleDateSelect}" />
									</p:calendar>
									<h:outputText value="" />
									<h:outputText value="" />

									<p:commandButton value="Agregar Form 817"
										actionListener="#{movilController.addForm817}"
										update="detalleListForm817DT" immediate="true" />
								</h:panelGrid>


								<p:dataTable id="detalleListForm817DT" var="detalle"
									value="#{movilController.form817DM}" emptyMessage="">

									<f:facet name="header">
										<h:outputText value="Detalles" />
									</f:facet>

									<p:column align="center">
										<f:facet name="header">
											<h:outputText value="Número form 817" />
										</f:facet>
										<h:outputText value="#{detalle.numero}" />
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="Fecha" />
										</f:facet>
										<h:outputText value="#{detalle.fecha}">
											<f:convertDateTime pattern="#{msgs.common_inputDateFormat}"
												timeZone="#{msgs.common_timeZone}" />
										</h:outputText>
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="Opciones" />
										</f:facet>
										<h:panelGrid columns="3">
											<h:commandLink
												actionListener="#{movilController.deleteForm817}"
												immediate="true">
												<h:graphicImage url="/resource/images/delete.gif"
													title="Eliminar" style="border:0px" />
											</h:commandLink>
										</h:panelGrid>
									</p:column>
								</p:dataTable>
							</p:panel>
							<p:panel header="Form 170">
								<h:panelGrid columns="4">
									<h:outputText value="Número form 170" />
									<p:inputMask id="fomr170IM"
										value="#{movilController.form170.numero}" mask="9999/99">
										<f:ajax execute="@this" />
									</p:inputMask>

									<h:message for="fomr170IM" />
									<h:outputText value="" />

									<h:outputText value="Fecha" />
									<!-- <p:calendar id="fechaForm170C"
										value="#{movilController.form170.fecha}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
										<p:ajax event="dateSelect"
											listener="#{movilController.handleDateSelect}" />
									</p:calendar> -->
									<p:calendar id="fechaForm170C"
										value="#{movilController.form170.fecha}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
										<p:ajax event="dateSelect"
											listener="#{movilController.handleDateSelect}" />
									</p:calendar>
									<h:outputText value="" />
									<h:outputText value="" />

									<p:commandButton value="Agregar Form 170"
										actionListener="#{movilController.addForm170}"
										update="detalleListForm170DT" immediate="true" />
								</h:panelGrid>


								<p:dataTable id="detalleListForm170DT" var="detalle"
									value="#{movilController.form170DM}" emptyMessage="">

									<f:facet name="header">
										<h:outputText value="Detalles" />
									</f:facet>

									<p:column align="center">
										<f:facet name="header">
											<h:outputText value="Número form 170" />
										</f:facet>
										<h:outputText value="#{detalle.numero}" />
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="Fecha" />
										</f:facet>
										<h:outputText value="#{detalle.fecha}">
											<f:convertDateTime pattern="#{msgs.common_inputDateFormat}"
												timeZone="#{msgs.common_timeZone}" />
										</h:outputText>
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="Opciones" />
										</f:facet>
										<h:panelGrid columns="3">
											<h:commandLink
												actionListener="#{movilController.deleteForm170}"
												immediate="true">
												<h:graphicImage url="/resource/images/delete.gif"
													title="Eliminar" style="border:0px" />
											</h:commandLink>
										</h:panelGrid>
									</p:column>
								</p:dataTable>
							</p:panel>

							<p:panel header="Recibo">
								<h:panelGrid columns="4">
									<h:outputText value="Número Recibo" />
									<p:inputMask id="reciboIM"
										value="#{movilController.recibo.numero}" mask="9999/99">
										<f:ajax execute="@this" />
									</p:inputMask>

									<h:message for="reciboIMm" />
									<h:outputText value="" />

									<h:outputText value="Fecha" />
									<!-- <p:calendar id="fechaReciboC"
										value="#{movilController.recibo.fecha}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
										<p:ajax event="dateSelect"
											listener="#{movilController.handleDateSelect}" />
									</p:calendar> -->
									<p:calendar id="fechaReciboC"
										value="#{movilController.recibo.fecha}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
										<p:ajax event="dateSelect"
											listener="#{movilController.handleDateSelect}" />
									</p:calendar>
									<h:outputText value="" />
									<h:outputText value="" />

									<h:outputText value="Observacion" />
									<p:inputText id="observacionrIT"
										value="#{movilController.recibo.observacion}">
										<f:ajax execute="@this" />
										<f:validateBean for="observacionrIT" />
									</p:inputText>
									<h:message id="mobservacionrIT" for="observacionrIT" />

									<p:commandButton value="Agregar recibo"
										actionListener="#{movilController.addRecibo}"
										update="detalleListReciboDT" immediate="true" />
								</h:panelGrid>


								<p:dataTable id="detalleListReciboDT" var="detalle"
									value="#{movilController.reciboDM}" emptyMessage="">

									<f:facet name="header">
										<h:outputText value="Detalles" />
									</f:facet>

									<p:column align="center">
										<f:facet name="header">
											<h:outputText value="Número recibo" />
										</f:facet>
										<h:outputText value="#{detalle.numero}" />
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="Fecha" />
										</f:facet>
										<h:outputText value="#{detalle.fecha}">
											<f:convertDateTime pattern="#{msgs.common_inputDateFormat}"
												timeZone="#{msgs.common_timeZone}" />
										</h:outputText>
									</p:column>

									<p:column align="center">
										<f:facet name="header">
											<h:outputText value="Observación" />
										</f:facet>
										<h:outputText value="#{detalle.observacion}" />
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="Opciones" />
										</f:facet>
										<h:panelGrid columns="3">
											<h:commandLink
												actionListener="#{movilController.deleteRecibo}"
												immediate="true">
												<h:graphicImage url="/resource/images/delete.gif"
													title="Eliminar" style="border:0px" />
											</h:commandLink>
										</h:panelGrid>
									</p:column>
								</p:dataTable>
							</p:panel>

							<p:panel header="Nomina">
								<h:panelGrid columns="4">
									<h:outputText value="Número nomina" />
									<p:inputMask id="nominaIM"
										value="#{movilController.nomina.numero}" mask="9999/99">
										<f:ajax execute="@this" />
									</p:inputMask>

									<h:message for="nominaIMm" />
									<h:outputText value="" />

									<h:outputText value="Fecha" />
									<!-- <p:calendar id="fechaNominaC"
										value="#{movilController.nomina.fecha}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true">
										<p:ajax event="dateSelect"
											listener="#{movilController.handleDateSelect}" />
									</p:calendar> -->
									<p:calendar id="fechaNominaC"
										value="#{movilController.nomina.fecha}" mode="popup"
										showOn="button" locale="es"
										pattern="#{msgs.common_inputDateFormat}" immediate="true"
										readOnlyInputText="true" navigator="true"
										yearRange="c-100:c+50"
										converterMessage="El formato de la fecha es incorrecto">
										<p:ajax event="dateSelect"
											listener="#{movilController.handleDateSelect}" />
									</p:calendar>
									<h:outputText value="" />
									<h:outputText value="" />

									<h:outputText value="Observacion" />
									<p:inputText id="observacionnIT"
										value="#{movilController.nomina.observacion}">
										<f:ajax execute="@this" />
										<f:validateBean for="observacionnIT" />
									</p:inputText>
									<h:message id="mobservacionnIT" for="observacionnIT" />

									<p:commandButton value="Agregar nomina"
										actionListener="#{movilController.addNomina}"
										update="detalleListNominaDT" immediate="true" />
								</h:panelGrid>


								<p:dataTable id="detalleListNominaDT" var="detalle"
									value="#{movilController.nominaDM}" emptyMessage="">

									<f:facet name="header">
										<h:outputText value="Detalles" />
									</f:facet>

									<p:column align="center">
										<f:facet name="header">
											<h:outputText value="Número nomina" />
										</f:facet>
										<h:outputText value="#{detalle.numero}" />
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="Fecha" />
										</f:facet>
										<h:outputText value="#{detalle.fecha}">
											<f:convertDateTime pattern="#{msgs.common_inputDateFormat}"
												timeZone="#{msgs.common_timeZone}" />
										</h:outputText>
									</p:column>

									<p:column align="center">
										<f:facet name="header">
											<h:outputText value="Observación" />
										</f:facet>
										<h:outputText value="#{detalle.observacion}" />
									</p:column>

									<p:column>
										<f:facet name="header">
											<h:outputText value="Opciones" />
										</f:facet>
										<h:panelGrid columns="3">
											<h:commandLink
												actionListener="#{movilController.deleteNomina}"
												immediate="true">
												<h:graphicImage url="/resource/images/delete.gif"
													title="Eliminar" style="border:0px" />
											</h:commandLink>
										</h:panelGrid>
									</p:column>
								</p:dataTable>
							</p:panel>
						</p:tab>


						<p:tab title="Control">

							<h:panelGrid columns="2">
								<h:outputText value="Número de móvil" />
								<h:outputText id="numeroMovilControlID"
									value="#{movilController.movilView.numeroMovil}" />
							</h:panelGrid>

							<p:panel header="Agregar Observación">
								<h:panelGrid columns="2">
									<h:outputText value="Observación" />
									<p:inputTextarea id="notaControlITA"
										style="width:200px;height:100px;"
										value="#{movilController.notaControl}" immediate="true"
										maxLength="250">
										<f:ajax execute="@this" />
									</p:inputTextarea>

									<p:commandButton value="Agregar observación"
										actionListener="#{movilController.addNotaControl}"
										update="detalleNotaControlListDT" immediate="true" />
								</h:panelGrid>
							</p:panel>

							<p:dataTable id="detalleNotaControlListDT" var="nota"
								value="#{movilController.notasControlDM}" emptyMessage="">

								<f:facet name="header">
									<h:outputText value="Observaciones" />
								</f:facet>

								<p:column align="center">
									<f:facet name="header">
										<h:outputText value="Observación" />
									</f:facet>
									<h:outputText value="#{nota}" />
								</p:column>

								<p:column>
									<f:facet name="header">
										<h:outputText value="Opciones" />
									</f:facet>
									<h:panelGrid columns="3">
										<h:commandLink
											actionListener="#{movilController.deleteNotaControl}"
											immediate="true">
											<h:graphicImage url="/resource/images/delete.gif"
												title="Eliminar" style="border:0px" />
										</h:commandLink>
									</h:panelGrid>
								</p:column>
							</p:dataTable>
						</p:tab>

					</p:tabView>


					<!-- ================================================== -->
					<!-- Opciones											-->
					<!-- ================================================== -->
					<h:panelGrid columns="2">
						<p:commandButton value="Guardar"
							actionListener="#{movilController.save}" update="form,filtroForm">
						</p:commandButton>
						<p:commandButton value="Volver"
							actionListener="#{movilController.cancel}" immediate="true"
							update="form,filtroForm">
						</p:commandButton>
					</h:panelGrid>
				</h:panelGrid>
			</h:form>
		</u:define>
	</u:composition>
</body>
</html>